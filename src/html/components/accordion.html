<custom-component>
    <script>
        //# sourceURL=html/components/accordion.html
        class Accordion extends SlottedComponent {
            static msgs = {
                ACCORDION_BEFORE_OPENED: `ACCORDION_BEFORE_OPENED`,
                ACCORDION_AFTER_OPENED: `ACCORDION_AFTER_OPENED`,
                ACCORDION_BEFORE_CLOSED: `ACCORDION_BEFORE_CLOSED`,
                ACCORDION_AFTER_CLOSED: `ACCORDION_AFTER_CLOSED`,
            }
            click() {
                const closing = !!this.PanelElement.style.maxHeight

                if (closing) { Queue.broadcast(Accordion.msgs.ACCORDION_BEFORE_CLOSED, this) }
                else { Queue.broadcast(Accordion.msgs.ACCORDION_BEFORE_OPENED, this) }
                this.Element.classList.toggle("active")
                if (closing) { this.PanelElement.style.maxHeight = null } 
                else { this.PanelElement.style.maxHeight = "100%" } 
                if (closing) { Queue.broadcast(Accordion.msgs.ACCORDION_AFTER_CLOSED, this) }
                else { Queue.broadcast(Accordion.msgs.ACCORDION_AFTER_OPENED, this) }
            }
            vars = {
                title: `Title`
            }
        }
    </script>
    <style>
        :root {
            --accordion-width: 100%;
            --accordion-color: var(gray-4);
            --accordion-background-color: var(--gray-e);
            --accordion-cursor: pointer;
            --accordion-padding: 5px;
            --accordion-box-sizing: border-box;
            --accordion-font-family: var(--primary-font-family);
            --accordion-font-size: var(--text-2-font-size);
            --accordion-font-weight: normal;
            --accordion-text-align: left;
            --accordion-border-color: hidden;
            --accordion-border-width: 0;
            --accordion-border-style: none;
            --accordion-border-radius: 0px;
            --accordion-outline: none;
            --accordion-transition: 0.4s;

            --accordion-active-background-color: var(--gray-c);

            --accordion-hover-background-color: var(--gray-c);

            --accordion-panel-width: 100%;
            --accordion-panel-max-height: 0;
            --accordion-panel-background-color: white;
            --accordion-panel-overflow: hidden;
            --accordion-panel-transition: max-height 0.2s ease-out;

        }

        .accordion {
            width: var(--accordion-width);
            color: var(--accordion-color);
            background-color: var(--accordion-background-color);
            cursor: var(--accordion-cursor);
            padding: var(--accordion-padding);
            box-sizing: var(--accordion-box-sizing);
            font-family: var(--accordion-font-family);
            font-size: var(--accordion-font-size);
            font-weight: var(--accordion-font-weight);
            text-align: var(--accordion-text-align);
            border-color: var(--accordion-border-color);
            border-width: var(--accordion-border-width);
            border-style: var(--accordion-border-style);
            text-align: left;
            outline: var(--accordion-outline);
            transition: var(--accordion-transition);
        }
        .active {
            background-color: var(--accordion-active-background-color);
        }
        .accordion:hover {
            background-color: var(--accordion-hover-background-color);
        }

        .accordion-panel {
            width: var(--accordion-panel-width);
            max-height: var(--accordion-panel-max-height);
            background-color: var(--accordion-panel-background-color);
            overflow: var(--accordion-panel-overflow);
            transition: var(--accordion-panel-transition);
        }
    </style>
    <component-markup>
        <div id="{id}" class="accordion">
            <div id="{id}Title" onclick="$obj.click()">{title}</div>
            <div id="{id}Panel" class="accordion-panel">
                <component-slot id="{id}Slot"></component-slot>
            </div>
        </div>
    </component-markup>
    <test-script>
    </test-script>
</custom-component>